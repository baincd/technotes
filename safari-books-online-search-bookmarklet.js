/******************************************************************************
This is a bookmarklet that can be used on the Safari Books Online search screen
to select every publisher except Packt Publishing.

To install, copy everything after this header into a new bookmark in your
browser.  Then on the Safari Books Online search screen, select the bookmark,
wait, and all publishers (as of the last modification of this script) will be
selected except Packt Publishing (as new publishers are added to Safari
Books Online they will also need to be added to this script).

Tested in Firefox and Chrome.

A Huge Thank You to https://mrcoles.com/bookmarklet/ ,
which this bookmarklet relies heavily on and would not be possible without.
******************************************************************************/

javascript:
(function() {
  function callback() {
    (function($) {
      var jQuery=$;
      /********* START MY CODE **********/
      var pubs = [
        "A Book Apart",
        "A K Peters/CRC Press",
        "AMA Self-Study",
        "AMACOM",
        "AVA Publishing",
        "Academic Press",
        "Addison-Wesley Professional",
        "Adobe Press",
        "Alexandra Levit",
        "Adobe Systems",
        "Alpha",
        "American Geophysical Union",
        "Alpha Books",
        "Apple Academic Press",
        "Apress",
        "Artima Press",
        "Association for Talent Development",
        "Atlantic Publishing",
        "Auerbach Publications",
        "Axzo Press",
        "BCS Learning & Development Limited",
        "BPS Blackwell",
        "Ben Watson",
        "BenBella Books",
        "Berrett-Koehler Publishers",
        "Bibliomotion",
        "Big Nerd Ranch Guides",
        "Bleeding Edge Press",
        "Bloomberg Press",
        "Bloomsbury Publishing",
        "Book Industry Study Group",
        "Brainy Software",
        "British Informatics Society Limited",
        "BuildAModule",
        "Business Expert Press",
        "Butterworth-Heinemann",
        "CQ Roll Call",
        "CRC Press",
        "Capstone",
        "Career Press",
        "Cengage Learning PTR",
        "Center for Creative Leadership",
        "Center for Cryptologic History, NSA",
        "Chandos Publishing",
        "Chapman and Hall/CRC",
        "Cisco Press",
        "Clarity Business Education",
        "Class on Demand",
        "Close.io",
        "Coffing Publishing",
        "Coffing Studios",
        "Conflux Digital Ltd.",
        "Context-Driven Press",
        "Course Technology PTR",
        "Crisp Learning",
        "DK Eyewitness Travel",
        "DK Publishing",
        "David & Charles",
        "David Fulton Publishers",
        "De Gruyter Mouton",
        "De Gruyter",
        "De Gruyter Oldenbourg",
        "De Gruyter Open",
        "Digital Book World",
        "Digital Press",
        "Dorling Kindersley Limited",
        "Elsevier Science",
        "Elsevier",
        "Estates Gazette",
        "FORA.tv",
        "FT Press",
        "FT Publishing International",
        "Fair Winds Press",
        "Financial Times/ Prentice Hall",
        "Focal Press",
        "For Dummies",
        "Giff Constable",
        "Gilbane Group, Inc.",
        "Gulf Professional Publishing",
        "HRD Press",
        "HarperCollins Publishers",
        "Harriman House",
        "Harvard Business Review",
        "Harvard Business Review Press",
        "IBM Press",
        "IBM Redbooks",
        "ILT",
        "IT Governance Publishing",
        "INE",
        "IT Revolution Press",
        "IconLogic, Inc.",
        "IdeaPress",
        "Impact",
        "Infinite Ideas",
        "Infinite Skills",
        "InformIT",
        "Informa Law from Routledge",
        "Intellezy",
        "J. Ross Publishing",
        "Javvin Press",
        "JIST Publishing",
        "John Rossman",
        "John Wiley & Sons",
        "Jones & Bartlett Learning",
        "Jossey-Bass",
        "Kauffman Fellows Press",
        "Kohler Music Press",
        "LID Editorial",
        "LID Publishing",
        "Laurence King",
        "LearnToProgram",
        "Libros de Cabecera",
        "Logical Operations",
        "MBI Publishing Company",
        "MIT Sloan Management Review",
        "MC Press",
        "Maker Media, Inc",
        "Manning Publications",
        "Marshall Cavendish International (Asia)",
        "McGraw-Hill",
        "McGraw-Hill Education TAB",
        "McGraw-Hill Osborne Media",
        "Microsoft Corporation",
        "McGraw-Hill/TAB Electronics",
        "Microsoft Press",
        "Microsoft, Inc.",
        "Momentum",
        "Momentum Press",
        "More Than Sound",
        "Morgan & Claypool Life Sciences",
        "Morgan & Claypool Publishers",
        "Morgan Kaufmann",
        "New Page Books",
        "New Riders",
        "Newnes",
        "Nir Eyal",
        "No Starch Press",
        "North Holland",
        "North Light Books",
        "O'Reilly Media, Inc.",
        "OECD Publishing",
        "OpenTask",
        "Oracle Press",
        "PH Professional Business",
        "Patrick Kua",
        "Peachpit Press",
        "Pearson",
        "Pearson Business",
        "Pearson Education",
        "Pearson Education Canada",
        "Pearson Education India",
        "Pearson Education Limited",
        "Pearson FT Press",
        "Pearson IT Certification",
        "Pearson India",
        "Pearson International",
        "Pearson Life",
        "Pearson Prentice Hall",
        "PebbleStorm",
        "Pfeiffer",
        "Pragmatic Bookshelf",
        "Premier Press",
        "Prentice Hall",
        "Prentice Hall Business",
        "Prentice Hall Life",
        "Princeton University Press",
        "Productivity Press",
        "Project Management Institute",
        "Profile Books",
        "Psychology Press",
        "Quarry Books",
        "Que",
        "Quicklook Books",
        "Red Gate Books",
        "Rockport Publishers",
        "Rocky Nook",
        "Rosenfeld Media",
        "Routledge",
        "S-curves Publishing",
        "SAS Institute",
        "Safari Books Online",
        "Salesforce.com",
        "Sams",
        "Sashay Communications",
        "Sean Ellis and Morgan Brown",
        "Semantic Studios",
        "SitePoint",
        "Skylines Academy, LLC",
        "Smashing Magazine",
        "Stone River eLearning",
        "Sun Microsystems",
        "Sustainable Business Education",
        "Sybex",
        "Syngress",
        "Take Control Books",
        "Talented Pixie",
        "Taylor & Francis",
        "Technics Publications",
        "Ten Ton Books",
        "The USENIX Association",
        "The Productivity Pro",
        "Total Training",
        "Turnbull Press",
        "VMware Press",
        "Virtual Training Company, Inc.",
        "Visual",
        "W.J. Gilmore, LLC",
        "Walter Foster",
        "Wiley",
        "Wiley-AIChE",
        "Wiley-Blackwell",
        "Wiley-IEEE Computer Society Press",
        "Wiley-IEEE Press",
        "Wiley-ISTE",
        "Wiley-Interscience",
        "Wiley-Scrivener",
        "Wiley-TMS",
        "Wiley-VCH",
        "Wiley-VCH Verlag",
        "Willan",
        "William Andrew",
        "Woodhead Publishing",
        "Wrightbooks",
        "Writer's Digest Books",
        "Wrox Blox",
        "Wrox",
        "XML Press",
        "XpertSkills",
        "friends of ED",
        "i30 Media",
        "mitp Verlag",
        "php[architect]",
        "popforms",
        "Éditions Blackburn Tétreault"
      ];

      pubs.forEach(function(pub) {
        console.log(pub);
        var selector = "[value=\"" + pub + "\"]";
        var el = $( selector );
        if (el && el[0] && !el[0].checked) {
          el.click();
        }
      });

      var publishersEl = $(':contains("publishers")')
                            .filter(function() {return $(this).text() === "publishers"});
      publishersEl.parent().parent().click();
      
      var resultsEl = $(':contains("View")')
                            .filter(function() {return $(this).text().includes("results")});
      resultsEl.parent().click();
      /********* END MY CODE **********/
    })
    (jQuery.noConflict(true))
  }
  var s = document.createElement("script");
  s.src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js";
  if (s.addEventListener) {
    s.addEventListener("load",callback,false)
  } else if (s.readyState) {
    s.onreadystatechange=callback
  }
  document.body.appendChild(s);
})()
